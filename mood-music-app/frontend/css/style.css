:root{
  --bg-1:#081427;
  --bg-2:#072033;
  --card:#0e2a3a;
  --muted:#9fb2c1;
  --accent:#6ef0d6;
  --glass: rgba(255,255,255,0.04);
  --glass-2: rgba(255,255,255,0.02);
  --glass-border: rgba(255,255,255,0.06);
  --radius:14px;
  --max-width:1180px;
  --shadow: 0 6px 18px rgba(2,8,18,0.6);
  font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  color-scheme: dark;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg-1),var(--bg-2));color:#e8f7fb;-webkit-font-smoothing:antialiased}
.site-inner{max-width:var(--max-width);margin:0 auto;padding:18px}

/* header */
.site-header{padding:28px 0 6px;border-bottom:1px solid rgba(255,255,255,0.02);backdrop-filter: blur(6px)}
.brand{margin:0;font-size:28px;letter-spacing:0.6px;font-weight:700;text-align:center}
.tag{margin:6px 0 0;text-align:center;color:var(--muted)}

/* layout */
.layout{display:grid;grid-template-columns:1fr 360px;gap:28px;padding:28px 18px}
@media (max-width:980px){ .layout{grid-template-columns:1fr;padding:18px} .card-right{order:2} }

/* cards */
.card{background:linear-gradient(180deg,var(--glass),var(--glass-2));border-radius:var(--radius);padding:20px;box-shadow:var(--shadow);border:1px solid var(--glass-border)}
.card-title{margin:0 0 14px;font-size:20px;font-weight:700}

/* left */
.emoji-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(90px,1fr));gap:12px;align-items:center}
.emoji-btn{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:18px;border-radius:12px;background:rgba(255,255,255,0.02);border:1px solid transparent;color:white;font-size:22px;cursor:pointer;transition:all .18s ease}
.emoji-btn span{display:block;margin-top:8px;font-size:13px;color:var(--muted)}
.emoji-btn:hover{transform:translateY(-4px);box-shadow:0 8px 20px rgba(0,0,0,0.45);border-color:rgba(255,255,255,0.04)}
.emoji-btn.selected{background:linear-gradient(135deg, rgba(110,240,214,0.12), rgba(110,240,214,0.06));border-color:rgba(110,240,214,0.18)}

/* recommendation */
.recommendation{margin-top:18px;padding:16px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.015));border:1px solid rgba(255,255,255,0.02)}
.rec-label{color:var(--muted);font-size:13px;margin-bottom:6px}
.rec-song{font-weight:700;font-size:18px}

/* right moods list */
.mood-list{list-style:none;padding:6px;margin:0;max-height:68vh;overflow:auto}
.mood-item{margin:10px 0}
.mood-link{display:block;padding:12px;border-radius:10px;background:rgba(0,0,0,0.18);text-decoration:none;color:#e8f7fb;border:1px solid rgba(255,255,255,0.02);transition:transform .12s ease}
.mood-link:hover{transform:translateX(6px);box-shadow:0 8px 24px rgba(0,0,0,0.6)}
.mood-link .meta{font-size:13px;color:var(--muted);margin-bottom:6px}
.mood-link .song{font-weight:700}

/* highlight selected mood item */
.mood-link.selected{
  background: linear-gradient(90deg, rgba(110,240,214,0.08), rgba(91,214,255,0.04));
  border-color: rgba(110,240,214,0.18);
  box-shadow: 0 12px 30px rgba(110,240,214,0.06);
  transform: translateX(6px) scale(1.01);
}

/* mini-player active/visual state when a song is selected */
.mini-player{
  transition: transform .18s ease, box-shadow .18s ease, background .18s ease;
  transform: translateY(8px);
  opacity: 0.98;
}
.mini-player.active{
  transform: translateY(0) scale(1.02);
  box-shadow: 0 20px 40px rgba(6,40,50,0.6);
  background: linear-gradient(90deg, rgba(22,120,110,0.66), rgba(4,10,20,0.6));
}

/* small visual for selected song text inside mood list */
.mood-link .song.selected{
  color: #dffbf7;
  text-decoration: underline;
}

/* subtle pulse on mini-player cover when active */
.mini-player.active .mini-cover{
  animation: mm-pulse 2.4s infinite;
}
@keyframes mm-pulse {
  0% { box-shadow: 0 0 0 0 rgba(110,240,214,0.15); }
  70% { box-shadow: 0 0 0 14px rgba(110,240,214,0.00); }
  100% { box-shadow: 0 0 0 0 rgba(110,240,214,0.00); }
}

/* ensure transitions for mood items */
.mood-link, .mini-player, .emoji-btn { transition: all .18s ease; }
.hidden{display:none}

/* footer */
.site-footer{padding:18px 0;text-align:center;color:var(--muted);font-size:13px;border-top:1px solid rgba(255,255,255,0.02);margin-top:56px}

/* small screens */
@media (max-width:520px){
  .emoji-btn{padding:14px;font-size:20px}
  .mini-player{left:10px;right:10px;padding:8px}
  .layout{gap:14px;padding:14px}
}